(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{8824:function(e,s,l){Promise.resolve().then(l.bind(l,7984))},7984:function(e,s,l){"use strict";l.r(s);var t=l(7437),a=l(2265),d=l(1254),r=l(3198),i=l(8066);s.default=()=>{let[e,s]=(0,a.useState)("default"),[l,n]=(0,a.useState)("default"),[c,m]=(0,a.useState)(""),[o,x]=(0,a.useState)(""),{stations:h}=(0,r.v9)(e=>e.station),{accounts:u}=(0,r.v9)(e=>e.account),{transactions:j}=(0,r.v9)(e=>e.transaction),{trades:f}=(0,r.v9)(e=>e.trade),p=e=>{let{value:l,name:t}=e.target;switch(t){case"station":s(l);return;case"code":n(l);return;case"fromDate":m(l);return;case"toDate":x(l);return;default:return}},b=(0,a.useMemo)(()=>{let s=f.filter(s=>{var t,a;return("default"===e||(null==s?void 0:null===(a=s.account)||void 0===a?void 0:null===(t=a.station)||void 0===t?void 0:t._id)===e)&&("default"===l||(null==s?void 0:s.stockCode)===l)&&(""===c||new Date(null==s?void 0:s.date).getTime()>new Date(c).getTime())&&(""===o||new Date(null==s?void 0:s.date).getTime()<new Date(o).getTime())});return s},[e,l,c,o]),v=(0,a.useMemo)(()=>{let s=j.filter(s=>{var t;return("default"===e||(null==s?void 0:null===(t=s.station)||void 0===t?void 0:t._id)===e)&&("default"===l||(null==s?void 0:s.stockCode)===l)&&(""===c||new Date(null==s?void 0:s.date).getTime()>=new Date(c).getTime())&&(""===o||new Date(null==s?void 0:s.date).getTime()<=new Date(o).getTime())});return s},[e,l,c,o]);console.log(b,j);let N=b.reduce((e,s)=>e+="buy"===s.type?s.amount*s.price:0,0),k=b.reduce((e,s)=>e+="sell"===s.type?s.amount*s.price:0,0),w=v.reduce((e,s)=>e+="deposit"===s.type?s.amount:0,0),y=v.reduce((e,s)=>e+="withdraw"===s.type?s.amount:0,0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{pageName:"Report"}),(0,t.jsxs)("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark md:p-6 xl:p-9",children:[(0,t.jsxs)("div",{className:"flex flex-col-reverse gap-5 xl:flex-row xl:justify-between",children:[(0,t.jsxs)("div",{className:"w-full mb-4.5",children:[(0,t.jsxs)("label",{className:"mb-2.5 block text-black dark:text-white",children:["Station ",(0,t.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[(0,t.jsxs)("select",{value:e,onChange:p,name:"station",className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[(0,t.jsx)("option",{value:"default",children:"Not Selected"},"default"),h.map(e=>(0,t.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,t.jsx)("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2",children:(0,t.jsx)("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("g",{opacity:"0.8",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:""})})})})]})]}),(0,t.jsxs)("div",{className:"w-full mb-4.5",children:[(0,t.jsxs)("label",{className:"mb-2.5 block text-black dark:text-white",children:["Stock ",(0,t.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[(0,t.jsxs)("select",{value:l,onChange:p,name:"code",className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[(0,t.jsx)("option",{value:"default",children:"Not Selected"},"default"),i.V.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2",children:(0,t.jsx)("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("g",{opacity:"0.8",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:""})})})})]})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"mb-3 block text-black dark:text-white",children:"From"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"date",name:"fromDate",value:c,onChange:p,className:"custom-input-date custom-input-date-1 w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"mb-3 block text-black dark:text-white",children:"To"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"date",name:"toDate",value:o,onChange:p,className:"custom-input-date custom-input-date-1 w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})})]}),(0,t.jsx)("div",{className:"w-full flex justify-center",children:(0,t.jsx)("button",{className:"flex items-center justify-center rounded py-2.5 text-center font-medium text-primary hover:bg-opacity-90",onClick:()=>{s("default"),n("default"),m(""),x("")},children:"Clear Filter"})})]}),(0,t.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,t.jsx)("div",{className:"p-4 md:p-6 xl:p-7.5",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-title-sm2 font-bold text-black dark:text-white",children:"Trades"})})})}),(0,t.jsx)("div",{className:"border-b border-stroke px-4 pb-5 dark:border-strokedark md:px-6 xl:px-7.5",children:(0,t.jsxs)("div",{className:"flex items-center justify-around",children:[(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Stock"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Stations"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Account"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Price"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Amount"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Type"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Date"})})]})}),(0,t.jsx)("div",{className:"p-4 md:p-6 xl:p-7.5",children:(0,t.jsx)("div",{className:"flex flex-col gap-7",children:b.length>0?b.map(e=>{var s;let{stockCode:l,account:a,price:d,amount:r,type:i,date:n,_id:c}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-around gap-3",children:[(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:l})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:null==a?void 0:null===(s=a.station)||void 0===s?void 0:s.name})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:null==a?void 0:a.name})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:d})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:r})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:i})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:n.slice(0,10)})})})]},c)}):(0,t.jsx)("div",{className:"mx-auto",children:" No data"})})})]}),(0,t.jsxs)("div",{className:"rounded-sm my-4 border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,t.jsx)("div",{className:"p-4 md:p-6 xl:p-7.5",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-title-sm2 font-bold text-black dark:text-white",children:"Deposit and Withdraw"})})})}),(0,t.jsx)("div",{className:"border-b border-stroke px-4 pb-5 dark:border-strokedark md:px-6 xl:px-7.5",children:(0,t.jsxs)("div",{className:"flex items-center justify-around",children:[(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Code"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Station"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Amount"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Type"})}),(0,t.jsx)("div",{className:"hidden w-2/12 text-center 2xsm:block md:w-1/12",children:(0,t.jsx)("span",{className:"font-medium",children:"Date"})})]})}),(0,t.jsx)("div",{className:"p-4 md:p-6 xl:p-7.5",children:(0,t.jsx)("div",{className:"flex flex-col gap-7",children:v.length>0?v.map(e=>{let{stockCode:s,station:l,amount:a,type:d,date:r,_id:i}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-around gap-3",children:[(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:s})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:null==l?void 0:l.name})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:a})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:d})})}),(0,t.jsx)("div",{className:"w-2/12 xl:w-3/12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-medium xl:block",children:r.slice(0,10)})})})]},i)}):(0,t.jsx)("div",{className:"mx-auto",children:" No data"})})})]}),(0,t.jsxs)("div",{className:"rounded-sm my-4 border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,t.jsx)("div",{className:"p-4 md:p-6 xl:p-7.5",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-title-sm2 font-bold text-black dark:text-white",children:"Report"})})})}),(0,t.jsxs)("div",{className:"flex border-b border-stroke px-4 pb-5 dark:border-strokedark md:px-6 xl:px-7.5",children:[(0,t.jsx)("div",{className:"w-full px-4 sm:w-1/2 xl:w-3/12",children:(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h4",{className:"mb-4 text-xl font-semibold text-black dark:text-white md:text-2xl",children:"Buy"}),(0,t.jsx)("p",{children:"$".concat(N)})]})}),(0,t.jsx)("div",{className:"w-full px-4 sm:w-1/2 xl:w-3/12",children:(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h4",{className:"mb-4 text-xl font-semibold text-black dark:text-white md:text-2xl",children:"Sell"}),(0,t.jsx)("p",{children:"$".concat(k)})]})}),(0,t.jsx)("div",{className:"w-full px-4 sm:w-1/2 xl:w-3/12",children:(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h4",{className:"mb-4 text-xl font-semibold text-black dark:text-white md:text-2xl",children:"Deposit"}),(0,t.jsx)("p",{children:"$".concat(w)})]})}),(0,t.jsx)("div",{className:"w-full px-4 sm:w-1/2 xl:w-3/12",children:(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h4",{className:"mb-4 text-xl font-semibold text-black dark:text-white md:text-2xl",children:"Withdraw"}),(0,t.jsx)("p",{children:"$".concat(y)})]})}),(0,t.jsx)("div",{className:"w-full px-4 sm:w-1/2 xl:w-3/12",children:(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h4",{className:"mb-4 text-xl font-semibold text-black dark:text-white md:text-2xl",children:"Total"}),(0,t.jsx)("p",{children:"$".concat(N-k+w-y)})]})})]})]})]})]})}},1254:function(e,s,l){"use strict";var t=l(7437),a=l(1396),d=l.n(a);s.Z=e=>{let{pageName:s}=e;return(0,t.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:s}),(0,t.jsx)("nav",{children:(0,t.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(d(),{className:"font-medium",href:"/",children:"Dashboard /"})}),(0,t.jsx)("li",{className:"font-medium text-primary",children:s})]})})]})}},8066:function(e,s,l){"use strict";l.d(s,{V:function(){return t}});let t=["stockCode1","stockCode2","stockCode3","stockCode4","stockCode5"]},1396:function(e,s,l){e.exports=l(6685)}},function(e){e.O(0,[685,306,971,596,744],function(){return e(e.s=8824)}),_N_E=e.O()}]);